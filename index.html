<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistema Solar Interactivo Mejorado</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: radial-gradient(ellipse at center, #000 0%, #01010a 100%);
    font-family: Arial, sans-serif;
    color: white;
  }
  canvas {
    display: block;
  }
  .info-panel {
    position: absolute;
    top: 20px;
    right: 20px;
    background: rgba(0,0,0,0.7);
    padding: 15px;
    border-radius: 10px;
    max-width: 250px;
    display: none;
  }
  .info-panel h2 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
  }
  .info-panel p {
    margin: 5px 0;
    font-size: 0.9em;
  }
</style>
</head>
<body>

<div class="info-panel" id="infoPanel">
  <h2 id="planetName"></h2>
  <p id="planetInfo"></p>
</div>

<audio id="bg-music" src="https://cdn.pixabay.com/download/audio/2023/03/01/audio_1c4ee1b9b6.mp3?filename=space-ambient-10915.mp3" autoplay loop></audio>

<canvas id="solarSystem"></canvas>

<script>
const canvas = document.getElementById('solarSystem');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const infoPanel = document.getElementById('infoPanel');
const planetNameEl = document.getElementById('planetName');
const planetInfoEl = document.getElementById('planetInfo');

class Planet {
  constructor(name, color, radius, distance, speed, info) {
    this.name = name;
    this.color = color;
    this.radius = radius;
    this.distance = distance;
    this.speed = speed;
    this.angle = Math.random() * Math.PI * 2;
    this.info = info;
  }
  draw() {
    const x = canvas.width/2 + this.distance * Math.cos(this.angle);
    const y = canvas.height/2 + this.distance * Math.sin(this.angle);

    // Órbita
    ctx.beginPath();
    ctx.strokeStyle = 'rgba(255,255,255,0.1)';
    ctx.arc(canvas.width/2, canvas.height/2, this.distance, 0, Math.PI * 2);
    ctx.stroke();

    // Planeta
    ctx.beginPath();
    ctx.arc(x, y, this.radius, 0, Math.PI * 2);
    ctx.fillStyle = this.color;
    ctx.fill();

    this.x = x;
    this.y = y;
  }
  update() {
    this.angle += this.speed;
    this.draw();
  }
}

const planets = [
  new Planet('Mercurio', '#aaa', 5, 50, 0.02, 'El planeta más cercano al Sol.'),
  new Planet('Venus', '#f5d6a1', 8, 80, 0.015, 'Segundo planeta, muy caliente y con atmósfera densa.'),
  new Planet('Tierra', '#4c6ef5', 10, 120, 0.01, 'Nuestro hogar, con agua y vida.'),
  new Planet('Marte', '#ff4500', 7, 160, 0.008, 'El planeta rojo, posible futuro hogar humano.'),
  new Planet('Júpiter', '#d2b48c', 20, 220, 0.005, 'Gigante gaseoso, con la Gran Mancha Roja.'),
  new Planet('Saturno', '#deb887', 18, 280, 0.004, 'Famoso por sus anillos espectaculares.'),
  new Planet('Urano', '#87cefa', 14, 340, 0.003, 'Gigante helado, con inclinación única.'),
  new Planet('Neptuno', '#4169e1', 14, 400, 0.002, 'Planeta azul profundo, muy frío y ventoso.')
];

const sun = new Planet('Sol', '#ffff00', 30, 0, 0, 'El corazón del Sistema Solar.');

let zoom = 1;
let offsetX = 0;
let offsetY = 0;

function animate() {
  ctx.save();
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.translate(canvas.width/2 + offsetX, canvas.height/2 + offsetY);
  ctx.scale(zoom, zoom);
  ctx.translate(-canvas.width/2, -canvas.height/2);

  sun.draw();
  planets.forEach(planet => planet.update());

  ctx.restore();
  requestAnimationFrame(animate);
}

canvas.addEventListener('click', e => {
  const mx = (e.clientX - offsetX - canvas.width/2)/zoom + canvas.width/2;
  const my = (e.clientY - offsetY - canvas.height/2)/zoom + canvas.height/2;

  planets.forEach(planet => {
    const dist = Math.sqrt((mx - planet.x)**2 + (my - planet.y)**2);
    if(dist < planet.radius + 5) {
      // Mostrar panel con info
      planetNameEl.textContent = planet.name;
      planetInfoEl.textContent = planet.info;
      infoPanel.style.display = 'block';

      // Zoom al planeta
      offsetX = canvas.width/2 - planet.x;
      offsetY = canvas.height/2 - planet.y;
      zoom = 2;
    }
  });
});

canvas.addEventListener('dblclick', () => {
  // Reset zoom
  zoom = 1;
  offsetX = 0;
  offsetY = 0;
  infoPanel.style.display = 'none';
});

animate();
</script>

</body>
</html>
